<div class="conts-area-wrap full period">
  <div class="conts-area">
     <div class="periodSet-area">
        <div class="periodSet-datepicker">
          <div id="from-selected-date"></div>
          <div class="term">~</div>
          <div id="to-selected-date"></div>
        </div>
        <div class="periodSet-btns">
          <button type="button" data-search-flag="D">오늘</button>
          <button type="button" data-search-flag="Y">어제</button>
          <button type="button" data-search-flag="W">일주일</button>
          <button type="button" data-search-flag="M">30일</button>
           <button type="button">당월</button>
        </div>
        <button type="button" class="btn primary">조회</button>
      </div>
  </div>
</div>
<div class="conts-area-wrap full">
  <div class="conts-area">
    <div class="tit">미지원 고객 발화 로그</div>
    <div class="conversation-flow-wrap">
      <!-- grid table -->
      <div class="conversation-flow-grid">
        <div class="dx-grid-custom paging" id="gridTable"></div>  
      </div>
      <!--// grid table -->
    </div>
  </div>
<script>
(function () {
  if (window.customIgnitionLog) {
    window.customIgnitionLog.destroy();
  }
  window.customIgnitionLog = {
    grids: { call: null },
    data: [], 
    destroy() {
      Object.values(this.grids).forEach(g => g?.dispose?.());
      this.grids = { call: null };
    },
    init() {
      this.destroy();
      setTimeout(() => {
        this.setupData();
        this.createGrid();
      }, 100);
    },

    setupData() {
      this.data = [
        {id: 1, date: "2025-08-08 09:11:12", ignition:"너 뭐야?"},
        {id: 2, date: "2025-08-08 09:11:12", ignition:"저 궁금한게 있어요. 말을 천천히 해주세요"},
        {id: 3, date: "2025-08-08 09:11:12", ignition:"왜 못알아 듣지?"},
        {id: 4, date: "2025-08-08 09:11:12", ignition:"너 뭐야?"},
        {id: 5, date: "2025-08-08 09:11:12", ignition:"그거 아니구요 부가정보 라고 몇번을 말하지?"},
        {id: 6, date: "2025-08-08 09:11:12", ignition:"너너너"},
        {id: 7, date: "2025-08-08 09:11:12", ignition:"대답하라고"},
        {id: 8, date: "2025-08-08 09:11:12", ignition:"너 뭐야?"},
        {id: 9, date: "2025-08-08 09:11:12", ignition:"저기요?"},
        {id: 10, date: "2025-08-08 09:11:12", ignition:"너 뭐야?"},
        {id: 11, date: "2025-08-08 09:11:12", ignition:"너 뭐야?"},
        {id: 12, date: "2025-08-08 09:11:12", ignition:"왜 못알아 듣지?"}
    ]},

    createGrid() {
      this.grids.call = $("#gridTable").dxDataGrid({
        dataSource: this.data,
        keyExpr: "id",
        showBorders: true,
        // rowAlternationEnabled: true, 
        columnAutoWidth: true,
        wordWrapEnabled: true,
        hoverStateEnabled:false,
        paging: { pageSize: 20 },
        pager: { 
          showInfo:false, 
          showPageSizeSelector: true, 
          allowedPageSizes: [20, 30, 40, 50, 60], 
          visible: true
        },
        scrolling: { mode: "standard", showScrollbar:"always"},
        columns: [
          { caption: "일시", 
            dataField: "date", 
            width: 250, 
            alignment: "center" 
          },
          { caption: "고객발화", 
            dataField: "ignition", 
            minWidth: 110,
            alignment: "left" 
          }
        ]
      }).dxDataGrid("instance");
    }
  };

  window.customIgnitionLog.init();
})();

</script>